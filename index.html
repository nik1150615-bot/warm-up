<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>METTA Stretch ‚Ä¢ –†–∞–∑–º–∏–Ω–∫–∞ –¥–ª—è —Å–ø–∏–Ω—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #e0f2fe 0, #f9fafb 40%, #f9fafb 100%);
      color: #0f172a;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .shell {
      width: 100%;
      max-width: 460px;
      padding: 12px 10px;
      display: flex;
      justify-content: center;
      align-items: stretch;
    }

    .card {
      width: 100%;
      max-height: 760px;
      min-height: 560px;
      background: #ffffff;
      border-radius: 22px;
      padding: 18px 18px 14px;
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.16),
        0 0 0 1px rgba(148, 163, 184, 0.22);
      display: flex;
      flex-direction: column;
    }

    .header {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
      align-items: center;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(59, 130, 246, 0.10);
      color: #1d4ed8;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-weight: 600;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
    }

    h1 {
      font-size: 20px;
      margin: 6px 0 2px;
      color: #0f172a;
    }

    .subtitle {
      font-size: 13px;
      color: #6b7280;
      max-width: 260px;
    }

    .logo {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .logo-mark {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: #0f172a;
      color: #f9fafb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 15px;
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.4);
    }

    .logo-text-main {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #0f172a;
      font-weight: 700;
    }

    .logo-sub {
      font-size: 9px;
      color: #9ca3af;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .mode-switch {
      margin-top: 4px;
      margin-bottom: 10px;
      display: flex;
      gap: 6px;
      background: #f3f4f6;
      padding: 4px;
      border-radius: 999px;
    }

    .mode-btn {
      flex: 1;
      border-radius: 999px;
      border: none;
      background: transparent;
      font-size: 11px;
      padding: 6px 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: #6b7280;
      font-weight: 500;
      white-space: nowrap;
    }

    .mode-btn span:first-child {
      font-size: 14px;
    }

    .mode-btn.active {
      background: #ffffff;
      color: #0f172a;
      box-shadow:
        0 0 0 1px rgba(148, 163, 184, 0.6),
        0 4px 10px rgba(15, 23, 42, 0.08);
    }

    .status-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      margin-bottom: 6px;
    }

    .status-left {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #16a34a;
      font-weight: 500;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #16a34a;
    }

    .status-right {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: #6b7280;
    }

    .status-right span:first-child {
      font-size: 14px;
    }

    /* –ë–ª–æ–∫ –∞–≤–∞—Ç–∞—Ä–∞ + —Ç–∞–π–º–µ—Ä */

    .center {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      margin-top: 4px;
      margin-bottom: 10px;
    }

    .avatar-shell {
      width: 210px;
      height: 210px;
      border-radius: 999px;
      background: radial-gradient(circle at top, #e0f2fe 0, #eff6ff 45%, #e5e7eb 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow:
        0 8px 24px rgba(15, 23, 42, 0.18),
        0 0 0 1px rgba(148, 163, 184, 0.36);
      position: relative;
    }

    .avatar-inner {
      width: 130px;
      height: 130px;
      position: relative;
    }

    .avatar-base {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .avatar-body {
      width: 56px;
      height: 70px;
      border-radius: 28px 28px 20px 20px;
      background: #0f172a;
      position: relative;
      top: 20px;
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.4);
    }

    .avatar-neck {
      width: 18px;
      height: 14px;
      background: #0f172a;
      border-radius: 8px;
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
    }

    .avatar-head {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: #fbbf24;
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .avatar-face {
      width: 70%;
      height: 70%;
      border-radius: 999px;
      background: rgba(250, 250, 249, 0.18);
      position: relative;
      overflow: hidden;
    }

    .eye {
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: #0f172a;
      position: absolute;
      top: 40%;
    }

    .eye-left {
      left: 30%;
    }

    .eye-right {
      right: 30%;
    }

    .mouth {
      width: 12px;
      height: 6px;
      border-radius: 999px;
      border: 2px solid #0f172a;
      border-top: none;
      position: absolute;
      bottom: 22%;
      left: 50%;
      transform: translateX(-50%);
    }

    .arm {
      width: 16px;
      height: 46px;
      border-radius: 999px;
      background: #0f172a;
      position: absolute;
      top: 8px;
      transform-origin: top center;
    }

    .arm-left {
      left: -8px;
    }

    .arm-right {
      right: -8px;
    }

    .back-line {
      position: absolute;
      width: 4px;
      height: 80px;
      border-radius: 999px;
      background: #e5e7eb;
      left: 50%;
      transform: translateX(40px);
      top: 20px;
      opacity: 0.7;
    }

    /* –ê–ù–ò–ú–ê–¶–ò–ò */

    @keyframes nod {
      0%, 100% { transform: translate(-50%, 0) rotate(0deg); }
      30% { transform: translate(-50%, 0) rotate(10deg); }
      60% { transform: translate(-50%, 0) rotate(-8deg); }
    }

    @keyframes shoulder-roll-left {
      0%, 100% { transform: rotate(8deg); }
      50% { transform: rotate(-16deg); }
    }

    @keyframes shoulder-roll-right {
      0%, 100% { transform: rotate(-8deg); }
      50% { transform: rotate(16deg); }
    }

    @keyframes eyes-move {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      50% { transform: translateX(3px); }
      75% { transform: translateX(-3px); }
    }

    @keyframes torso-breath {
      0%, 100% { transform: scaleY(1); }
      50% { transform: scaleY(1.06); }
    }

    /* –ü—Ä–∏–≤—è–∑–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –∫ —Ç–∏–ø—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è */

    .avatar--neck .avatar-head {
      animation: nod 2s ease-in-out infinite;
      transform-origin: 50% 100%;
    }

    .avatar--shoulders .arm-left {
      animation: shoulder-roll-left 1.8s ease-in-out infinite;
      transform-origin: top center;
    }

    .avatar--shoulders .arm-right {
      animation: shoulder-roll-right 1.8s ease-in-out infinite;
      transform-origin: top center;
    }

    .avatar--back .avatar-body {
      animation: torso-breath 2.2s ease-in-out infinite;
    }

    .avatar--eyes .eye-left,
    .avatar--eyes .eye-right {
      animation: eyes-move 2s ease-in-out infinite;
    }

    .avatar--breath .avatar-body {
      animation: torso-breath 2.2s ease-in-out infinite;
    }

    .avatar--breath .avatar-head {
      animation: nod 3s ease-in-out infinite;
    }

    .avatar-shadow {
      position: absolute;
      width: 90px;
      height: 18px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.08);
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      filter: blur(4px);
    }

    .timer-block {
      margin-top: 10px;
      text-align: center;
    }

    .timer {
      font-size: 34px;
      font-weight: 700;
      letter-spacing: 0.06em;
      color: #0f172a;
    }

    .exercise-title {
      margin-top: 4px;
      font-size: 15px;
      font-weight: 600;
      color: #111827;
    }

    .exercise-sub {
      margin-top: 2px;
      font-size: 12px;
      color: #6b7280;
    }

    .progress-shell {
      width: 100%;
      max-width: 260px;
      margin: 10px auto 0;
      height: 6px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
    }

    .progress-fill {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, #22c55e, #3b82f6);
      border-radius: 999px;
      transition: width 0.25s ease-out;
    }

    /* –ö–Ω–æ–ø–∫–∏ */

    .controls {
      margin-top: 14px;
      display: flex;
      gap: 8px;
      justify-content: center;
    }

    .btn-main {
      border-radius: 999px;
      padding: 9px 20px;
      border: none;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      background: #22c55e;
      color: #022c22;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow:
        0 10px 22px rgba(34, 197, 94, 0.35),
        0 0 0 1px rgba(22, 163, 74, 0.7);
    }

    .btn-main span:first-child {
      font-size: 16px;
    }

    .btn-ghost {
      border-radius: 999px;
      padding: 8px 14px;
      border: 1px solid #e5e7eb;
      font-size: 13px;
      cursor: pointer;
      background: #ffffff;
      color: #4b5563;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .btn-ghost span:first-child {
      font-size: 14px;
    }

    .stats-row {
      margin-top: 12px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .stats-left {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .stats-right {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: default;
    }

    .streak-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #fef3c7;
      color: #92400e;
      font-size: 11px;
    }

    .streak-fire {
      font-size: 14px;
    }

    .tip-block {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 14px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      font-size: 12px;
      color: #374151;
    }

    .tip-icon {
      font-size: 16px;
      margin-top: 1px;
    }

    .tip-text strong {
      font-weight: 600;
    }

    .tip-next {
      margin-left: auto;
      align-self: center;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      cursor: pointer;
      flex-shrink: 0;
    }

    /* –ú–æ–¥–∞–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.35);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 20;
    }

    .modal-backdrop.hidden {
      display: none;
    }

    .modal {
      width: 100%;
      max-width: 320px;
      background: #ffffff;
      border-radius: 20px;
      padding: 18px 16px 14px;
      box-shadow:
        0 20px 40px rgba(15, 23, 42, 0.35),
        0 0 0 1px rgba(148, 163, 184, 0.4);
    }

    .modal-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #111827;
    }

    .modal-text {
      font-size: 13px;
      color: #4b5563;
      margin-bottom: 12px;
    }

    .modal-footer {
      text-align: right;
    }

    .modal-btn {
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 600;
      background: #22c55e;
      color: #022c22;
      cursor: pointer;
      box-shadow:
        0 8px 18px rgba(34, 197, 94, 0.35),
        0 0 0 1px rgba(22, 163, 74, 0.7);
    }

    @media (max-width: 420px) {
      .card {
        border-radius: 18px;
        padding: 14px 12px 10px;
      }
      .avatar-shell {
        width: 190px;
        height: 190px;
      }
      .timer {
        font-size: 30px;
      }
    }

    @media (max-height: 600px) and (orientation: landscape) {
      .card {
        max-height: none;
      }
      .avatar-shell {
        transform: scale(0.9);
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="card">
      <div class="header">
        <div>
          <div class="badge">
            <span class="badge-dot"></span>
            METTA ‚Ä¢ Stretch
          </div>
          <h1>–†–∞–∑–º–∏–Ω–∫–∞ –¥–ª—è —Å–ø–∏–Ω—ã</h1>
          <div class="subtitle">
            –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è —à–µ–∏, —Å–ø–∏–Ω—ã –∏ –≥–ª–∞–∑ –ø—Ä—è–º–æ –∑–∞ —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º.
          </div>
        </div>
        <div class="logo">
          <div class="logo-mark">M</div>
          <div class="logo-text-main">METTA</div>
          <div class="logo-sub">ERGONOMIC CHAIRS</div>
        </div>
      </div>

      <div class="mode-switch">
        <button class="mode-btn active" data-program="light">
          <span>üå±</span><span>–ö–æ—Ä–æ—Ç–∫–∞—è</span>
        </button>
        <button class="mode-btn" data-program="standard">
          <span>üåø</span><span>–°—Ç–∞–Ω–¥–∞—Ä—Ç</span>
        </button>
        <button class="mode-btn" data-program="deep">
          <span>üå≥</span><span>–ì–ª—É–±–æ–∫–∞—è</span>
        </button>
      </div>

      <div class="status-row">
        <div class="status-left">
          <span class="status-dot"></span>
          <span id="statusText">–ö–æ–º–ø–ª–µ–∫—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω</span>
        </div>
        <div class="status-right">
          <span>üßç‚Äç‚ôÇÔ∏è</span><span id="exerciseCounter">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1 –∏–∑ 3</span>
        </div>
      </div>

      <div class="center">
        <div class="avatar-shell">
          <div id="avatar" class="avatar-inner avatar--neck">
            <div class="avatar-base">
              <div class="back-line"></div>

              <div class="avatar-body">
                <div class="avatar-neck"></div>
                <div class="avatar-head">
                  <div class="avatar-face">
                    <div class="eye eye-left"></div>
                    <div class="eye eye-right"></div>
                    <div class="mouth"></div>
                  </div>
                </div>
                <div class="arm arm-left"></div>
                <div class="arm arm-right"></div>
              </div>
            </div>
          </div>
          <div class="avatar-shadow"></div>
        </div>

        <div class="timer-block">
          <div id="timer" class="timer">00:30</div>
          <div id="exerciseTitle" class="exercise-title">–ú—è–≥–∫–∏–π –Ω–∞–∫–ª–æ–Ω –≥–æ–ª–æ–≤—ã</div>
          <div id="exerciseSub" class="exercise-sub">–°–∏–¥—è –ø—Ä—è–º–æ, –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞–∫–ª–æ–Ω—è–π –≥–æ–ª–æ–≤—É –∫ –ø–ª–µ—á—É.</div>

          <div class="progress-shell">
            <div id="progressFill" class="progress-fill"></div>
          </div>
        </div>
      </div>

      <div class="controls">
        <button id="startPauseBtn" class="btn-main">
          <span>‚ñ∂</span><span>–°—Ç–∞—Ä—Ç</span>
        </button>
        <button id="skipBtn" class="btn-ghost">
          <span>‚è≠</span><span>–î–∞–ª—å—à–µ</span>
        </button>
        <button id="resetBtn" class="btn-ghost">
          <span>‚Ü∫</span><span>–°–±—Ä–æ—Å</span>
        </button>
      </div>

      <div class="stats-row">
        <div class="stats-left">
          <span>üìÖ</span>
          <span id="statsToday">–°–µ–≥–æ–¥–Ω—è: 0 –∫–æ–º–ø–ª–µ–∫—Å–æ–≤ ¬∑ –≥–ª–∞–∑–∞: 0</span>
        </div>
        <div class="stats-right">
          <div class="streak-badge">
            <span class="streak-fire">üî•</span>
            <span id="streakText">0 –¥–Ω.</span>
          </div>
        </div>
      </div>

      <div class="tip-block">
        <div class="tip-icon">üí°</div>
        <div class="tip-text" id="tipText">
          <strong>–°–æ–≤–µ—Ç:</strong> –¥–µ–ª–∞–π –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ, –±–µ–∑ –±–æ–ª–∏ –∏ —Ä—ã–≤–∫–æ–≤.
        </div>
        <button id="tipNextBtn" class="tip-next">‚Ä∫</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ -->
  <div id="doneModal" class="modal-backdrop hidden">
    <div class="modal">
      <div class="modal-title">–ö–æ–º–ø–ª–µ–∫—Å –∑–∞–≤–µ—Ä—à—ë–Ω</div>
      <div class="modal-text" id="doneModalText">
        –¢—ã –¥–∞–ª —Ç–µ–ª–æ –Ω–µ–º–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞–±–æ—Ç–µ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω –∫—Ä—É–≥ –ø–æ–∑–∂–µ.
      </div>
      <div class="modal-footer">
        <button id="doneModalBtn" class="modal-btn">–•–æ—Ä–æ—à–æ</button>
      </div>
    </div>
  </div>

  <script>
    // ---- –î–ê–ù–ù–´–ï –£–ü–†–ê–ñ–ù–ï–ù–ò–ô ----

    const PROGRAMS = {
      light: [
        {
          name: "–ú—è–≥–∫–∏–π –Ω–∞–∫–ª–æ–Ω –≥–æ–ª–æ–≤—ã",
          area: "–®–µ—è",
          type: "neck",
          duration: 30,
          description: "–°–∏–¥—è –ø—Ä—è–º–æ, –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞–∫–ª–æ–Ω—è–π –≥–æ–ª–æ–≤—É –∫ –ø–ª–µ—á—É, –±–µ–∑ —Ä—ã–≤–∫–æ–≤.",
        },
        {
          name: "–°–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–æ–∫",
          area: "–í–µ—Ä—Ö–Ω—è—è —Å–ø–∏–Ω–∞",
          type: "back",
          duration: 30,
          description: "–°–ª–µ–≥–∫–∞ —Å–≤–æ–¥–∏ –ª–æ–ø–∞—Ç–∫–∏ –∫ —Ü–µ–Ω—Ç—Ä—É, –≥—Ä—É–¥—å —Å–º–æ—Ç—Ä–∏—Ç –≤–ø–µ—Ä—ë–¥.",
        },
        {
          name: "–ü–µ—Ä–µ–≤–æ–¥ –≤–∑–≥–ª—è–¥–∞ –≤–¥–∞–ª—å",
          area: "–ì–ª–∞–∑–∞",
          type: "eyes",
          duration: 30,
          description: "5 —Å–µ–∫—É–Ω–¥ —Å–º–æ—Ç—Ä–∏ –Ω–∞ —ç–∫—Ä–∞–Ω, 5 ‚Äî –≤ —Å–∞–º—É—é –¥–∞–ª—å–Ω—é—é —Ç–æ—á–∫—É –≤ –∫–æ–º–Ω–∞—Ç–µ.",
        },
      ],
      standard: [
        {
          name: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–∞–º–∏",
          area: "–ü–ª–µ—á–∏",
          type: "shoulders",
          duration: 30,
          description: "–û–ø—É—Å–∫–∞–π –ø–ª–µ—á–∏ –≤–Ω–∏–∑ –Ω–∞ –∫–∞–∂–¥—ã–π –∫—Ä—É–≥, –Ω–µ –∑–∞–∂–∏–º–∞–π —à–µ—é.",
        },
        {
          name: "–ù–∞–∫–ª–æ–Ω—ã –≥–æ–ª–æ–≤—ã –≤ —Å—Ç–æ—Ä–æ–Ω—ã",
          area: "–®–µ—è",
          type: "neck",
          duration: 30,
          description: "–¢—è–Ω–∏—Å—å —É—Ö–æ–º –∫ –ø–ª–µ—á—É, –ø–ª–µ—á–∏ –æ—Å—Ç–∞–≤—å —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω—ã–º–∏.",
        },
        {
          name: "–°–∫—Ä—É—Ç–∫–∞ —Å–∏–¥—è",
          area: "–ü–æ—è—Å–Ω–∏—Ü–∞",
          type: "back",
          duration: 40,
          description: "–°–∏–¥—è –ø—Ä—è–º–æ, –º—è–≥–∫–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–π –∫–æ—Ä–ø—É—Å –≤–ø—Ä–∞–≤–æ –∏ –≤–ª–µ–≤–æ.",
        },
        {
          name: "–†–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü",
          area: "–ì—Ä—É–¥–Ω–æ–π –æ—Ç–¥–µ–ª",
          type: "back",
          duration: 30,
          description: "–°–≤–µ–¥–∏ –ª–æ–ø–∞—Ç–∫–∏, —Å–ª–µ–≥–∫–∞ –æ—Ç–≤–µ–¥—è —Ä—É–∫–∏ –Ω–∞–∑–∞–¥.",
        },
        {
          name: "–ü–µ—Ä–µ–≤–æ–¥ –≤–∑–≥–ª—è–¥–∞: –±–ª–∏–∑–∫–æ‚Äì–¥–∞–ª–µ–∫–æ",
          area: "–ì–ª–∞–∑–∞",
          type: "eyes",
          duration: 30,
          description: "5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –±–ª–∏–∑–∫–æ–º –æ–±—ä–µ–∫—Ç–µ, 5 —Å–µ–∫—É–Ω–¥ ‚Äî –≤–¥–∞–ª—å.",
        },
      ],
      deep: [
        {
          name: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–∞–º–∏",
          area: "–ü–ª–µ—á–∏",
          type: "shoulders",
          duration: 30,
          description: "–î–≤–∏–≥–∞–π –ø–ª–µ—á–∞–º–∏ –≤–ø–µ—Ä—ë–¥ –∏ –Ω–∞–∑–∞–¥ –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∞–º–ø–ª–∏—Ç—É–¥–µ.",
        },
        {
          name: "–ù–∞–∫–ª–æ–Ω—ã –≥–æ–ª–æ–≤—ã –≤–æ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã",
          area: "–®–µ—è",
          type: "neck",
          duration: 40,
          description: "–ù–∞–∫–ª–æ–Ω—è–π –≥–æ–ª–æ–≤—É –≤–ø–µ—Ä—ë–¥, –Ω–∞–∑–∞–¥ –∏ –∫ –ø–ª–µ—á–∞–º, –±–µ–∑ –±–æ–ª–∏.",
        },
        {
          name: "–°–∫—Ä—É—Ç–∫–∞ —Å–∏–¥—è",
          area: "–ü–æ—è—Å–Ω–∏—Ü–∞",
          type: "back",
          duration: 40,
          description: "–ú—è–≥–∫–æ —Å–∫—Ä—É—á–∏–≤–∞–π –∫–æ—Ä–ø—É—Å, –æ—Å—Ç–∞–≤–∞—è—Å—å –Ω–∞ —Å–µ–¥–∞–ª–∏—â–Ω—ã—Ö –∫–æ—Å—Ç—è—Ö.",
        },
        {
          name: "–ù–∞–∫–ª–æ–Ω –≤–ø–µ—Ä—ë–¥ —Å –æ–ø–æ—Ä–æ–π",
          area: "–ü–æ—è—Å–Ω–∏—Ü–∞",
          type: "back",
          duration: 40,
          description: "–û–ø–∏—Ä–∞–π—Å—è —Ä—É–∫–∞–º–∏ –Ω–∞ –±—ë–¥—Ä–∞, –æ—Å—Ç–∞–≤–ª—è—è —Å–ø–∏–Ω—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä—è–º–æ–π.",
        },
        {
          name: "–†–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü",
          area: "–ì—Ä—É–¥–Ω–æ–π –æ—Ç–¥–µ–ª",
          type: "back",
          duration: 30,
          description: "–û—Ç–∫—Ä–æ–π –≥—Ä—É–¥–Ω—É—é –∫–ª–µ—Ç–∫—É, –±—É–¥—Ç–æ —á—É—Ç—å —Ä–∞–∑–¥–≤–∏–≥–∞–µ—à—å –ø–ª–µ—á–∏ –Ω–∞–∑–∞–¥.",
        },
        {
          name: "–ü–µ—Ä–µ–≤–æ–¥ –≤–∑–≥–ª—è–¥–∞ –ø–æ —Å—Ç–æ—Ä–æ–Ω–∞–º",
          area: "–ì–ª–∞–∑–∞",
          type: "eyes",
          duration: 30,
          description: "–°–º–æ—Ç—Ä–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ø—Ä–∞–≤–æ –∏ –≤–ª–µ–≤–æ.",
        },
        {
          name: "–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ",
          area: "–î—ã—Ö–∞–Ω–∏–µ",
          type: "breath",
          duration: 40,
          description: "–ú–µ–¥–ª–µ–Ω–Ω—ã–π –≤–¥–æ—Ö —á–µ—Ä–µ–∑ –Ω–æ—Å, –≤—ã–¥–æ—Ö —á–µ—Ä–µ–∑ —Ä–æ—Ç –ø–æ–¥–æ–ª—å—à–µ, —á–µ–º –≤–¥–æ—Ö.",
        },
      ],
    };

    const TIPS = [
      "–î–µ–ª–∞–π –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ –∏ –≤ —Å–≤–æ–µ–π –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∞–º–ø–ª–∏—Ç—É–¥–µ.",
      "–õ—É—á—à–µ 2‚Äì3 –º–∏–Ω—É—Ç—ã —Ä–∞–∑–º–∏–Ω–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å, —á–µ–º –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –ø–æ–¥—Ö–æ–¥ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é.",
      "–ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å –±–æ–ª—å ‚Äî —É–º–µ–Ω—å—à–∏ –∞–º–ø–ª–∏—Ç—É–¥—É –∏–ª–∏ —Å–¥–µ–ª–∞–π –ø–∞—É–∑—É.",
      "–î—ã—à–∏ —Å–ø–æ–∫–æ–π–Ω–æ –∏ –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–π –¥—ã—Ö–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞—Å—Ç—è–∂–∫–∏.",
      "–°—Ç–∞—Ä–∞–π—Å—è, —á—Ç–æ–±—ã —Å—Ç–æ–ø—ã —Å—Ç–æ—è–ª–∏ –Ω–∞ –ø–æ–ª—É, –∞ —Å–ø–∏–Ω–∞ –æ–ø–∏—Ä–∞–ª–∞—Å—å –Ω–∞ —Å–ø–∏–Ω–∫—É –∫—Ä–µ—Å–ª–∞.",
      "–ü—Ä–∏–≤—è–∂–∏ —Ä–∞–∑–º–∏–Ω–∫—É –∫ —Å–æ–∑–≤–æ–Ω–∞–º: –∑–∞–∫–æ–Ω—á–∏–ª –º–∏—Ç–∏–Ω–≥ ‚Äî —Å–¥–µ–ª–∞–ª 1 –∫–æ–º–ø–ª–µ–∫—Å.",
    ];

    // ---- –°–û–°–¢–û–Ø–ù–ò–ï ----

    let currentProgramKey = "light";
    let currentExercises = PROGRAMS[currentProgramKey];
    let currentIndex = 0;

    let remainingSeconds = currentExercises[0].duration;
    let totalComplexSeconds = currentExercises.reduce((s, e) => s + e.duration, 0);
    let elapsedComplexSeconds = 0;

    let isRunning = false;
    let timerId = null;

    let complexesToday = 0;
    let eyesToday = 0;
    let streakDays = 0;
    let tipIndex = 0;

    // ---- DOM ----

    const modeButtons = document.querySelectorAll(".mode-btn");
    const statusTextEl = document.getElementById("statusText");
    const exerciseCounterEl = document.getElementById("exerciseCounter");
    const avatarEl = document.getElementById("avatar");
    const timerEl = document.getElementById("timer");
    const exerciseTitleEl = document.getElementById("exerciseTitle");
    const exerciseSubEl = document.getElementById("exerciseSub");
    const progressFillEl = document.getElementById("progressFill");

    const startPauseBtn = document.getElementById("startPauseBtn");
    const skipBtn = document.getElementById("skipBtn");
    const resetBtn = document.getElementById("resetBtn");

    const statsTodayEl = document.getElementById("statsToday");
    const streakTextEl = document.getElementById("streakText");
    const tipTextEl = document.getElementById("tipText");

    const tipNextBtn = document.getElementById("tipNextBtn");

    const doneModal = document.getElementById("doneModal");
    const doneModalBtn = document.getElementById("doneModalBtn");
    const doneModalTextEl = document.getElementById("doneModalText");

    // ---- –•–†–ê–ù–ï–ù–ò–ï ----

    const STORAGE_KEYS = {
      COMPLEX_DATE: "metta_stretch_complex_date",
      COMPLEX_VAL: "metta_stretch_complex_value",
      EYES_DATE: "metta_stretch_eyes_date",
      EYES_VAL: "metta_stretch_eyes_value",
      STREAK_DATE: "metta_stretch_streak_date",
      STREAK_VAL: "metta_stretch_streak_value",
    };

    function getDateKey(d = new Date()) {
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return `${y}-${m}-${day}`;
    }

    function loadTodayCounters() {
      const today = getDateKey();

      try {
        const lastComplexDate = localStorage.getItem(STORAGE_KEYS.COMPLEX_DATE);
        const lastComplexVal = parseInt(
          localStorage.getItem(STORAGE_KEYS.COMPLEX_VAL) || "0",
          10
        );

        if (lastComplexDate === today && lastComplexVal > 0) {
          complexesToday = lastComplexVal;
        } else {
          complexesToday = 0;
          localStorage.setItem(STORAGE_KEYS.COMPLEX_DATE, today);
          localStorage.setItem(STORAGE_KEYS.COMPLEX_VAL, "0");
        }
      } catch (e) {
        complexesToday = 0;
      }

      try {
        const lastEyesDate = localStorage.getItem(STORAGE_KEYS.EYES_DATE);
        const lastEyesVal = parseInt(
          localStorage.getItem(STORAGE_KEYS.EYES_VAL) || "0",
          10
        );

        if (lastEyesDate === today && lastEyesVal > 0) {
          eyesToday = lastEyesVal;
        } else {
          eyesToday = 0;
          localStorage.setItem(STORAGE_KEYS.EYES_DATE, today);
          localStorage.setItem(STORAGE_KEYS.EYES_VAL, "0");
        }
      } catch (e) {
        eyesToday = 0;
      }

      try {
        const streakDate = localStorage.getItem(STORAGE_KEYS.STREAK_DATE);
        const streakVal = parseInt(
          localStorage.getItem(STORAGE_KEYS.STREAK_VAL) || "0",
          10
        );
        const todayStr = today;

        if (!streakDate) {
          streakDays = complexesToday > 0 ? 1 : 0;
          localStorage.setItem(STORAGE_KEYS.STREAK_DATE, todayStr);
          localStorage.setItem(STORAGE_KEYS.STREAK_VAL, String(streakDays));
        } else {
          const [sy, sm, sd] = streakDate.split("-").map(Number);
          const [ty, tm, td] = todayStr.split("-").map(Number);

          const prev = new Date(sy, sm - 1, sd);
          const now = new Date(ty, tm - 1, td);
          const diffDays = Math.round(
            (now - prev) / (1000 * 60 * 60 * 24)
          );

          if (diffDays === 0) {
            // —Ç–æ—Ç –∂–µ –¥–µ–Ω—å
            streakDays = streakVal;
            if (complexesToday > 0 && streakDays === 0) {
              streakDays = 1;
            }
          } else if (diffDays === 1) {
            // –≤—á–µ—Ä–∞ –±—ã–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å
            streakDays = complexesToday > 0 ? streakVal + 1 : streakVal;
          } else {
            // –ø—Ä–æ–ø—É—Å–∫
            streakDays = complexesToday > 0 ? 1 : 0;
          }

          localStorage.setItem(STORAGE_KEYS.STREAK_DATE, todayStr);
          localStorage.setItem(STORAGE_KEYS.STREAK_VAL, String(streakDays));
        }
      } catch (e) {
        streakDays = 0;
      }
    }

    function saveComplexesToday() {
      const today = getDateKey();
      try {
        localStorage.setItem(STORAGE_KEYS.COMPLEX_DATE, today);
        localStorage.setItem(STORAGE_KEYS.COMPLEX_VAL, String(complexesToday));
      } catch (e) {}
    }

    function saveEyesToday() {
      const today = getDateKey();
      try {
        localStorage.setItem(STORAGE_KEYS.EYES_DATE, today);
        localStorage.setItem(STORAGE_KEYS.EYES_VAL, String(eyesToday));
      } catch (e) {}
    }

    function saveStreak() {
      const today = getDateKey();
      try {
        localStorage.setItem(STORAGE_KEYS.STREAK_DATE, today);
        localStorage.setItem(STORAGE_KEYS.STREAK_VAL, String(streakDays));
      } catch (e) {}
    }

    // ---- –ê–£–î–ò–û / –í–ò–ë–†–ê–¶–ò–Ø ----

    let audioCtx = null;

    function ensureAudio() {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      }
      if (audioCtx.state === "suspended") {
        audioCtx.resume();
      }
    }

    function vibrate(pattern = 25) {
      try {
        if (navigator.vibrate) {
          navigator.vibrate(pattern);
        }
      } catch (e) {}
    }

    function playTap() {
      try {
        ensureAudio();
        const now = audioCtx.currentTime;
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = "sine";
        osc.frequency.setValueAtTime(520, now);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        gain.gain.setValueAtTime(0.0001, now);
        gain.gain.exponentialRampToValueAtTime(0.12, now + 0.01);
        gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.14);
        osc.start(now);
        osc.stop(now + 0.16);
        vibrate(18);
      } catch (e) {}
    }

    function playPing() {
      try {
        ensureAudio();
        const now = audioCtx.currentTime;

        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = "sine";
        osc.frequency.setValueAtTime(880, now);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        gain.gain.setValueAtTime(0.0001, now);
        gain.gain.exponentialRampToValueAtTime(0.18, now + 0.01);
        gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.35);
        osc.start(now);
        osc.stop(now + 0.4);

        vibrate([40, 40]);
      } catch (e) {}
    }

    // ---- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ----

    function formatTime(sec) {
      const m = Math.floor(sec / 60);
      const s = sec % 60;
      return `${String(m).padStart(2, "0")}:${String(s).padStart(2, "0")}`;
    }

    function updateUI() {
      const ex = currentExercises[currentIndex];
      const totalCount = currentExercises.length;
      const displayIndex = currentIndex + 1;

      timerEl.textContent = formatTime(remainingSeconds);
      exerciseCounterEl.textContent = `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ${displayIndex} –∏–∑ ${totalCount}`;
      exerciseTitleEl.textContent = `${ex.area} ‚Ä¢ ${ex.name}`;
      exerciseSubEl.textContent = ex.description;

      // –ê–Ω–∏–º–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–∞
      avatarEl.className = `avatar-inner avatar--${ex.type}`;

      // –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–æ–º–ø–ª–µ–∫—Å–∞
      const ratio =
        totalComplexSeconds > 0
          ? Math.max(0, Math.min(1, elapsedComplexSeconds / totalComplexSeconds))
          : 0;
      progressFillEl.style.width = `${ratio * 100}%`;

      statusTextEl.textContent = isRunning
        ? "–ö–æ–º–ø–ª–µ–∫—Å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ"
        : "–ö–æ–º–ø–ª–µ–∫—Å –Ω–∞ –ø–∞—É–∑–µ";

      statsTodayEl.textContent = `–°–µ–≥–æ–¥–Ω—è: ${complexesToday} –∫–æ–º–ø–ª–µ–∫—Å–æ–≤ ¬∑ –≥–ª–∞–∑–∞: ${eyesToday}`;
      streakTextEl.textContent = `${streakDays} –¥–Ω.`;
    }

    function setProgram(key) {
      currentProgramKey = key;
      currentExercises = PROGRAMS[key];
      currentIndex = 0;
      remainingSeconds = currentExercises[0].duration;
      totalComplexSeconds = currentExercises.reduce((s, e) => s + e.duration, 0);
      elapsedComplexSeconds = 0;
      stopTimer();
      startPauseBtn.innerHTML = "<span>‚ñ∂</span><span>–°—Ç–∞—Ä—Ç</span>";
      statusTextEl.textContent = "–ö–æ–º–ø–ª–µ–∫—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω";
      updateUI();
    }

    function startTimer() {
      if (isRunning) return;
      ensureAudio();
      isRunning = true;
      startPauseBtn.innerHTML = "<span>‚è∏</span><span>–ü–∞—É–∑–∞</span>";
      statusTextEl.textContent = "–ö–æ–º–ø–ª–µ–∫—Å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ";

      timerId = setInterval(() => {
        remainingSeconds--;
        elapsedComplexSeconds++;

        if (remainingSeconds <= 0) {
          remainingSeconds = 0;
          updateUI();
          handleExerciseComplete();
        } else {
          updateUI();
        }
      }, 1000);
    }

    function stopTimer() {
      isRunning = false;
      if (timerId) {
        clearInterval(timerId);
        timerId = null;
      }
    }

    function pauseTimer() {
      stopTimer();
      startPauseBtn.innerHTML = "<span>‚ñ∂</span><span>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>";
      statusTextEl.textContent = "–ö–æ–º–ø–ª–µ–∫—Å –Ω–∞ –ø–∞—É–∑–µ";
      updateUI();
    }

    function resetComplex() {
      stopTimer();
      currentExercises = PROGRAMS[currentProgramKey];
      currentIndex = 0;
      remainingSeconds = currentExercises[0].duration;
      totalComplexSeconds = currentExercises.reduce((s, e) => s + e.duration, 0);
      elapsedComplexSeconds = 0;
      startPauseBtn.innerHTML = "<span>‚ñ∂</span><span>–°—Ç–∞—Ä—Ç</span>";
      statusTextEl.textContent = "–ö–æ–º–ø–ª–µ–∫—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω";
      updateUI();
    }

    function handleExerciseComplete(skipOnly = false) {
      const ex = currentExercises[currentIndex];

      // —Å—á–∏—Ç–∞–µ–º –≥–ª–∞–∑–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
      if (ex.type === "eyes" && !skipOnly) {
        eyesToday++;
        saveEyesToday();
      }

      playPing();

      currentIndex++;
      if (currentIndex >= currentExercises.length) {
        // –ö–æ–º–ø–ª–µ–∫—Å –∑–∞–≤–µ—Ä—à—ë–Ω
        stopTimer();
        isRunning = false;

        elapsedComplexSeconds = totalComplexSeconds;

        if (!skipOnly) {
          complexesToday++;
          saveComplexesToday();

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–∏—é: –µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 1 –∫–æ–º–ø–ª–µ–∫—Å, —Å–µ—Ä–∏—è –Ω–µ –æ–±–Ω—É–ª—è–µ—Ç—Å—è
          if (complexesToday === 1 && streakDays === 0) {
            streakDays = 1;
          } else if (complexesToday > 0 && streakDays >= 0) {
            // –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —É–∂–µ —Å—á–∏—Ç–∞–ª–∏ –≤ initStreak, –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –µ—â—ë —Ä–∞–∑
          }
          saveStreak();
        }

        updateUI();
        openDoneModal();
      } else {
        stopTimer();
        remainingSeconds = currentExercises[currentIndex].duration;
        startTimer();
        updateUI();
      }
    }

    function openDoneModal() {
      const text =
        complexesToday > 0
          ? "–¢–µ–ª–æ –ø–æ–ª—É—á–∏–ª–æ —Å–≤–æ—é –ø–æ—Ä—Ü–∏—é –¥–≤–∏–∂–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞–¥–∞—á–∞–º –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –æ–¥–∏–Ω –∫—Ä—É–≥ –ø–æ–∑–∂–µ."
          : "–ö–æ–º–ø–ª–µ–∫—Å –ø—Ä–æ–ø—É—â–µ–Ω. –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ ‚Äî –¥–∞–∂–µ –æ–¥–∏–Ω –∫—Ä—É–≥ –±—É–¥–µ—Ç –ª—É—á—à–µ, —á–µ–º –Ω–∏—á–µ–≥–æ.";
      doneModalTextEl.textContent = text;
      doneModal.classList.remove("hidden");
    }

    function closeDoneModal() {
      doneModal.classList.add("hidden");
    }

    // ---- –°–û–í–ï–¢–´ ----

    function updateTip() {
      const tip = TIPS[tipIndex % TIPS.length];
      tipTextEl.innerHTML = `<strong>–°–æ–≤–µ—Ç:</strong> ${tip}`;
    }

    // ---- –°–û–ë–´–¢–ò–Ø ----

    modeButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        playTap();
        modeButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        const key = btn.getAttribute("data-program") || "light";
        setProgram(key);
      });
    });

    startPauseBtn.addEventListener("click", () => {
      playTap();
      if (isRunning) {
        pauseTimer();
      } else {
        startTimer();
      }
    });

    resetBtn.addEventListener("click", () => {
      playTap();
      resetComplex();
    });

    skipBtn.addEventListener("click", () => {
      playTap();
      stopTimer();
      handleExerciseComplete(true);
    });

    tipNextBtn.addEventListener("click", () => {
      playTap();
      tipIndex = (tipIndex + 1) % TIPS.length;
      updateTip();
    });

    doneModalBtn.addEventListener("click", () => {
      playTap();
      closeDoneModal();
    });

    doneModal.addEventListener("click", (e) => {
      if (e.target === doneModal) {
        playTap();
        closeDoneModal();
      }
    });

    // ---- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ----

    loadTodayCounters();
    updateTip();
    updateUI();
  </script>
</body>
</html>
